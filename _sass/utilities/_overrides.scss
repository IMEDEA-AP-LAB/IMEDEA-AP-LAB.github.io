// =============================================================================
// Reset & Override Utilities - Nuclear options for theme conflicts
// =============================================================================

/* ========================================================================== */
/* NUCLEAR OPTION - REMOVE ALL TITLE BOXES AND BACKGROUND CONFLICTS */
/* ========================================================================== */

/* Target every possible title and header combination */
h1, h2, h3, h4, h5, h6,
.page-title, .post-title, .section-title,
.page-header .page-title,
.post-header .page-title,
.projects .page-title,
header .page-title,
.header .page-title,
main .page-title,
.page-content h1, .page-content h2, .page-content h3,
.page-content h4, .page-content h5, .page-content h6,
.post-content h1, .post-content h2, .post-content h3,
.post-content h4, .post-content h5, .post-content h6,
article h1, article h2, article h3, article h4, article h5, article h6,
.outreach h1, .outreach h2, .outreach h3,
.people h1, .people h2, .people h3,
.projects h1, .projects h2, .projects h3,
.publications h1, .publications h2, .publications h3,
.repositories h1, .repositories h2, .repositories h3 {
  background: none;
  background-color: transparent;
  background-image: none;
  background-attachment: initial;
  background-clip: initial;
  background-origin: initial;
  background-position: initial;
  background-repeat: initial;
  background-size: initial;
  border: none;
  border-radius: 0;
  box-shadow: none;
  text-shadow: none;
  padding: 0;
  margin-left: 0;
  margin-right: 0;
  outline: none;
}

/* Target any title element in any context */
[class*="title"],
[class*="header"],
[class*="heading"] {
  background: none;
  background-color: transparent;
  background-image: none;
  border: none;
  box-shadow: none;
  text-shadow: none;
}

/* Remove any pseudo-elements that might create boxes */
h1::before, h2::before, h3::before, h4::before, h5::before, h6::before,
h1::after, h2::after, h3::after, h4::after, h5::after, h6::after,
.page-title::before, .page-title::after,
.section-title::before, .section-title::after,
[class*="title"]::before, [class*="title"]::after,
[class*="header"]::before, [class*="header"]::after {
  display: none;
  content: none;
  background: none;
  border: none;
  box-shadow: none;
}

/* Universal reset for any potential theme classes */
.al-folio h1, .al-folio h2, .al-folio h3,
.bootstrap h1, .bootstrap h2, .bootstrap h3,
.theme h1, .theme h2, .theme h3 {
  background: none;
  background-color: transparent;
  background-image: none;
  border: none;
  box-shadow: none;
  text-shadow: none;
  padding: 0;
}

/* ========================================================================== */
/* VISIBILITY AND SCROLL FIXES */
/* ========================================================================== */

/* Ensure page headers and titles scroll with content */
.page-header,
.post-header,
.page-content > header,
main > header,
.projects-header,
.page .page-header {
  position: static;
  top: auto;
  z-index: auto;
  border-bottom: none;
  padding-bottom: 0;
}

/* Ensure titles are not sticky or fixed */
h1, .page-title,
.page h1, .page .page-title,
.page-header h1, .page-header .page-title {
  position: static;
  top: auto;
  z-index: auto;
}

/* ========================================================================== */
/* ACCESSIBILITY AND INTERACTION STATES */
/* ========================================================================== */

/* Focus states for accessibility */
a:focus,
button:focus,
input:focus,
textarea:focus,
select:focus {
  outline: 2px solid var(--ocean-blue);
  outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
  animation-duration: 0.01ms;
  animation-iteration-count: 1;
  transition-duration: 0.01ms;
  scroll-behavior: auto;
  }
}

/* ========================================================================== */
/* PRINT STYLES */
/* ========================================================================== */

@media print {
  /* Hide navigation and interactive elements */
  nav, .navbar, .navigation,
  .btn, button,
  .social-links,
  .external-profiles {
    display: none !important;
  }
  
  /* Optimize text for print */
  body {
    font-size: 12pt;
    line-height: 1.4;
    color: black !important;
    background: white !important;
  }
  
  /* Remove shadows and effects */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  /* Ensure links are visible */
  a {
    color: black !important;
    text-decoration: underline !important;
  }
  
  /* Page breaks */
  h1, h2, h3 {
    page-break-after: avoid;
  }
  
  .page-break {
    page-break-before: always;
  }
}

/* ========================================================================== */
/* MODERN ENHANCEMENT UTILITIES */
/* ========================================================================== */

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Modern selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

::-moz-selection {
  background-color: var(--color-primary);
  color: white;
}

/* Enhanced focus styles */
*:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Modern scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-hover);
}

/* Animation utilities */
  .transition { transition: all var(--transition-base); }
  .hover-lift:hover { transform: translateY(-2px); }

/* Modern content sections */
.content-section {
  padding: var(--space-16) 0;
}

.hero-section {
  padding: var(--space-24) 0;
  background: var(--gradient-light);
}

/* ------------------------------------------------------------------------- */
/* Small exceptions: restore lab title and publication CTA styles that are
   intentionally used across the site but get removed by the 'nuclear' reset
   above. These restore rules live here so they override the earlier global
   removals in this same file. */
/* ------------------------------------------------------------------------- */

/* Restore lab title (About page) */
.lab-title {
  display: block;
  font-size: clamp(2.25rem, 5.5vw, 4rem);
  font-weight: 700;
  margin-bottom: var(--space-4);
  letter-spacing: -0.01em;
  line-height: 1.05;
  text-transform: none;
  position: relative;
  /* fallback color (visible on all browsers) */
  color: var(--ocean-deeper);
  /* gradient text only when background-clip is supported */
  @supports (-webkit-background-clip: text) {
    background: linear-gradient(90deg, var(--color-primary), var(--ocean-teal));
    -webkit-background-clip: text;
    /* avoid forcing transparent fill with !important so the color fallback can show
       if gradient clipping fails in some browsers */
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
}

.lab-title::after {
  content: '';
  display: block;
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 0.6ch;
  height: 3px;
  background: linear-gradient(90deg, var(--color-primary), var(--ocean-teal));
  transition: width var(--transition-fast) ease, transform var(--transition-fast) ease;
  transform-origin: left center;
  border-radius: var(--radius-xs);
}

/* Restore publications CTA/button used on About previews */
.publication-cta { text-align: center; margin-top: var(--space-4); }
.view-all-btn {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%);
  color: white;
  padding: var(--space-3) var(--space-6);
  border-radius: var(--radius-lg);
  font-size: var(--text-sm);
  font-weight: 600;
  text-decoration: none;
  transition: all var(--transition-base);
  box-shadow: var(--shadow-sm);
  border: none;
}
.view-all-btn:hover { transform: translateY(-2px); box-shadow: var(--shadow-md); color: white; text-decoration: none; }
.btn-icon { font-size: var(--text-base); }

/* Glass effect utility */
.glass-effect {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Defensive visibility override for the About page title.
   This ensures the lab title is visible even if some browser or
   other stylesheet attempts to clip/fill the text. It resets
   text-fill and enforces a visible color and stacking context. */
.intro-hero .lab-title,
.lab-title {
  color: var(--color-primary);
  /* Reset any transparent text-fill applied elsewhere */
  -webkit-text-fill-color: initial;
  -webkit-background-clip: initial;
  background-clip: initial;
  visibility: visible;
  display: block;
  z-index: 2;
}

/* ========================================================================== */
/* NAVIGATION OVERRIDE - FORCE BLUE GRADIENT */
/* ========================================================================== */

/* Nuclear option to ensure navigation gradient is visible */
header.site-header,
.site-header,
.wrapper .site-header,
body .site-header,
html .site-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  width: 100%;
  z-index: 9999;
  background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 50%, #1e3a8a 100%);
  background-color: #2563eb;
  background-image: linear-gradient(135deg, #2563eb 0%, #1d4ed8 50%, #1e3a8a 100%);
  padding: 1rem 0;
  box-shadow: 0 4px 25px rgba(37, 99, 235, 0.4);
  border-bottom: 2px solid rgba(255, 255, 255, 0.15);
  min-height: 80px;
  display: block;
  visibility: visible;
}

/* Force navigation container and content */
.site-header .container,
.site-header > .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 1.5rem;
  height: 100%;
  background: transparent;
}

/* Force navigation title visibility */
.site-header .site-title,
.site-title {
  color: white;
  text-decoration: none;
  font-size: 1.5rem;
  font-weight: 700;
  z-index: 10000;
  display: block;
  visibility: visible;
}

/* Force navigation links visibility */
.site-header .site-nav,
.site-nav {
  display: flex;
  gap: 1.5rem;
  align-items: center;
  z-index: 10000;
  visibility: visible;
}

.site-header .site-nav .page-link,
.site-nav .page-link {
  color: white;
  text-decoration: none;
  font-weight: 600;
  font-size: 0.875rem;
  text-transform: uppercase;
  padding: 0.5rem 1rem;
  border-radius: 0.75rem;
  transition: all 0.3s ease;
  display: block;
  visibility: visible;
}

.site-header .site-nav .page-link:hover,
.site-nav .page-link:hover {
  color: #93c5fd;
  background: rgba(255, 255, 255, 0.2);
  text-decoration: none;
}


