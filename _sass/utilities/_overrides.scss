// =============================================================================
// Reset & Override Utilities - Nuclear options for theme conflicts
// =============================================================================

/* ========================================================================== */
/* NUCLEAR OPTION - REMOVE ALL TITLE BOXES AND BACKGROUND CONFLICTS */
/* ========================================================================== */

/* Target every possible title and header combination */
h1, h2, h3, h4, h5, h6,
.page-title, .post-title, .section-title,
.page-header .page-title,
.post-header .page-title,
.projects .page-title,
header .page-title,
.header .page-title,
main .page-title,
.page-content h1, .page-content h2, .page-content h3,
.page-content h4, .page-content h5, .page-content h6,
.post-content h1, .post-content h2, .post-content h3,
.post-content h4, .post-content h5, .post-content h6,
article h1, article h2, article h3, article h4, article h5, article h6,
.outreach h1, .outreach h2, .outreach h3,
.people h1, .people h2, .people h3,
.projects h1, .projects h2, .projects h3,
.publications h1, .publications h2, .publications h3,
.repositories h1, .repositories h2, .repositories h3 {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  background-attachment: initial !important;
  background-clip: initial !important;
  background-origin: initial !important;
  background-position: initial !important;
  background-repeat: initial !important;
  background-size: initial !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  text-shadow: none !important;
  padding: 0 !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  outline: none !important;
}

/* Target any title element in any context */
[class*="title"],
[class*="header"],
[class*="heading"] {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
}

/* Remove any pseudo-elements that might create boxes */
h1::before, h2::before, h3::before, h4::before, h5::before, h6::before,
h1::after, h2::after, h3::after, h4::after, h5::after, h6::after,
.page-title::before, .page-title::after,
.section-title::before, .section-title::after,
[class*="title"]::before, [class*="title"]::after,
[class*="header"]::before, [class*="header"]::after {
  display: none !important;
  content: none !important;
  background: none !important;
  border: none !important;
  box-shadow: none !important;
}

/* Universal reset for any potential theme classes */
.al-folio h1, .al-folio h2, .al-folio h3,
.bootstrap h1, .bootstrap h2, .bootstrap h3,
.theme h1, .theme h2, .theme h3 {
  background: none !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  box-shadow: none !important;
  text-shadow: none !important;
  padding: 0 !important;
}

/* ========================================================================== */
/* VISIBILITY AND SCROLL FIXES */
/* ========================================================================== */

/* Ensure page headers and titles scroll with content */
.page-header,
.post-header,
.page-content > header,
main > header,
.projects-header,
.page .page-header {
  position: static !important;
  top: auto !important;
  z-index: auto !important;
  border-bottom: none !important;
  padding-bottom: 0 !important;
}

/* Ensure titles are not sticky or fixed */
h1, .page-title,
.page h1, .page .page-title,
.page-header h1, .page-header .page-title {
  position: static !important;
  top: auto !important;
  z-index: auto !important;
}

/* ========================================================================== */
/* ACCESSIBILITY AND INTERACTION STATES */
/* ========================================================================== */

/* Focus states for accessibility */
a:focus,
button:focus,
input:focus,
textarea:focus,
select:focus {
  outline: 2px solid var(--ocean-blue);
  outline-offset: 2px;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* ========================================================================== */
/* PRINT STYLES */
/* ========================================================================== */

@media print {
  /* Hide navigation and interactive elements */
  nav, .navbar, .navigation,
  .btn, button,
  .social-links,
  .external-profiles {
    display: none !important;
  }
  
  /* Optimize text for print */
  body {
    font-size: 12pt;
    line-height: 1.4;
    color: black !important;
    background: white !important;
  }
  
  /* Remove shadows and effects */
  * {
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  /* Ensure links are visible */
  a {
    color: black !important;
    text-decoration: underline !important;
  }
  
  /* Page breaks */
  h1, h2, h3 {
    page-break-after: avoid;
  }
  
  .page-break {
    page-break-before: always;
  }
}

/* ========================================================================== */
/* MODERN ENHANCEMENT UTILITIES */
/* ========================================================================== */

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Modern selection styles */
::selection {
  background-color: var(--color-primary);
  color: white;
}

::-moz-selection {
  background-color: var(--color-primary);
  color: white;
}

/* Enhanced focus styles */
*:focus {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

/* Modern scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--color-bg-secondary);
}

::-webkit-scrollbar-thumb {
  background: var(--color-primary);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-primary-hover);
}

/* Animation utilities */
.transition { transition: all var(--transition-base) !important; }
.hover-lift:hover { transform: translateY(-2px) !important; }

/* Modern content sections */
.content-section {
  padding: var(--space-16) 0;
}

.hero-section {
  padding: var(--space-24) 0;
  background: var(--gradient-light);
}

/* ------------------------------------------------------------------------- */
/* Small exceptions: restore lab title and publication CTA styles that are
   intentionally used across the site but get removed by the 'nuclear' reset
   above. These restore rules live here so they override the earlier global
   removals in this same file. */
/* ------------------------------------------------------------------------- */

/* Restore lab title (About page) */
.lab-title {
  display: block !important;
  font-size: clamp(2.25rem, 5.5vw, 4rem) !important;
  font-weight: 700 !important;
  margin-bottom: var(--space-4) !important;
  letter-spacing: 0.06em !important;
  line-height: 1.05 !important;
  text-transform: none !important;
  position: relative !important;
  /* gradient text */
  background: linear-gradient(90deg, var(--color-primary), var(--ocean-teal)) !important;
  -webkit-background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
  background-clip: text !important;
  color: var(--color-primary) !important;
}

.lab-title::after {
  content: '' !important;
  display: block !important;
  position: absolute !important;
  bottom: -6px !important;
  left: 0 !important;
  width: 0.6ch !important;
  height: 3px !important;
  background: linear-gradient(90deg, var(--color-primary), var(--ocean-teal)) !important;
  transition: width var(--transition-fast) ease, transform var(--transition-fast) ease !important;
  transform-origin: left center !important;
  border-radius: var(--radius-xs) !important;
}

/* Restore publications CTA/button used on About previews */
.publication-cta { text-align: center !important; margin-top: var(--space-4) !important; }
.view-all-btn {
  display: inline-flex !important;
  align-items: center !important;
  gap: var(--space-2) !important;
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-hover) 100%) !important;
  color: white !important;
  padding: var(--space-3) var(--space-6) !important;
  border-radius: var(--radius-lg) !important;
  font-size: var(--text-sm) !important;
  font-weight: 600 !important;
  text-decoration: none !important;
  transition: all var(--transition-base) !important;
  box-shadow: var(--shadow-sm) !important;
  border: none !important;
}
.view-all-btn:hover { transform: translateY(-2px) !important; box-shadow: var(--shadow-md) !important; color: white !important; text-decoration: none !important; }
.btn-icon { font-size: var(--text-base) !important; }

/* Glass effect utility */
.glass-effect {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.2);
}
